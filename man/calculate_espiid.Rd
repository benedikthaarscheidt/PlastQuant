% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/2.R
\name{calculate_espiid}
\alias{calculate_espiid}
\title{Environmental Sensitivity Performance Index for Individual Differences (ESPIID)}
\usage{
calculate_espiid(trait_values, use_median = FALSE, aggregate = TRUE)
}
\arguments{
\item{trait_values}{A numeric vector of trait measurements. Must have length ≥ 2.}

\item{use_median}{Logical; if `TRUE`, uses the median of all pairwise absolute differences when computing distances.
If `FALSE` (default), uses the mean.}

\item{aggregate}{Logical; if `TRUE` (default), returns the overall ESPIID as the mean across all environment pairs.
If `FALSE`, returns a named numeric vector of ESPIID values for each environment pair.}
}
\value{
If `aggregate = TRUE`, a single numeric ESPIID value. If `aggregate = FALSE`, a named numeric vector
where names are of the form `"i-j"` for each environment pair.
}
\description{
Computes the Environmental Sensitivity Performance Index for Individual Differences (ESPIID)
for a single trait across an environmental gradient. ESPIID quantifies the phenotypic distance
between individuals in different environments, normalized by the environmental distance.

Specifically, for each pair of environments \(i,j\):
\deqn{\mathrm{ESPIID}_{ij} = \frac{\mathrm{Dist}(z_i, z_j)}{|e_i - e_j|},}
where \(\mathrm{Dist}(z_i,z_j)\) is the mean (or median) absolute difference between all individuals
in environments \(i\) and \(j\), and \(e_i,e_j\) are the numeric environment indices.
}
\examples{
# Equidistant environments, mean-based, aggregated
vals <- c(10, 12, 15, 18, 20, 25)
calculate_espiid(vals)

# Use median instead of mean
calculate_espiid(vals, use_median = TRUE)

# Return all pairwise ESPIID values
calculate_espiid(vals, aggregate = FALSE)

}
