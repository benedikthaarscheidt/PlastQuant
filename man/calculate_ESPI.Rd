% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/2.R
\name{calculate_ESPI}
\alias{calculate_ESPI}
\title{Environmental Sensitivity Performance Index (ESPI)}
\usage{
calculate_ESPI(trait_values, env_values = NULL)
}
\arguments{
\item{trait_values}{Numeric vector of trait measurements. At least two observations are required.}

\item{env_values}{Optional numeric, factor, or character vector of environmental values corresponding to `trait_values`.
If `NULL`, environments are assumed equidistant (1, 2, â€¦, length(trait_values)).}
}
\value{
Numeric scalar: ESPI value. Returns `NA` with a warning if ESPI cannot be calculated (e.g., zero range or missing data).
}
\description{
Calculates the Environmental Sensitivity Performance Index (ESPI) for a single trait
across environmental conditions. ESPI quantifies the sensitivity of a trait by
comparing the difference between its maximum and minimum mean values to the range of the
environmental gradient.

ESPI is defined as:
\deqn{ESPI = \frac{\max(\bar{z}_e) - \min(\bar{z}_e)}{\lvert \max(e) - \min(e)\rvert},}
where \(\bar{z}_e\) is the mean trait value in environment \(e\) and \(e\) is the environmental value.
}
\examples{
trait <- c(10, 15, 20, 25, 30)
env   <- c(1, 2, 3, 4, 5)
calculate_ESPI(trait, env)

# Without specifying env_values (assumes equidistant)
calculate_ESPI(trait)

}
